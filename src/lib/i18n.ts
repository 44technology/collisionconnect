/**
 * Translations for Collision Collect — South Florida (English + Spanish).
 * Many body shops prefer Spanish.
 */
export type Locale = "en" | "es";

export const translations: Record<Locale, Record<string, string>> = {
  en: {
    // Common
    back: "Back",
    details: "Details",
    logout: "Logout",
    settings: "Settings",
    save: "Save",
    cancel: "Cancel",
    language: "Language",
    english: "English",
    spanish: "Spanish",
    welcome: "Welcome",
    // Customer dashboard
    totalRequests: "Total Requests",
    active: "Active",
    completed: "Completed",
    savings: "Savings",
    myRequests: "My Requests",
    newRequest: "New Request",
    viewBids: "View Bids",
    activeRequests: "Active Requests",
    requestsWithOffers: "Requests with offers (Savings)",
    pendingApproval: "Pending Approval",
    notifications: "Notifications",
    markAllAsRead: "Mark all as read",
    noNotifications: "No notifications",
    // Body shop dashboard
    bodyShopPanel: "Body Shop Panel",
    activeRequestsCount: "Active Requests",
    bidsPlaced: "Bids Placed",
    pending: "Pending",
    placeBid: "Place Bid",
    yourBid: "Your Bid",
    youWon: "You won this deal",
    aboveWinning: "above winning",
    hoursLeft: "left",
    timeExpired: "Time expired",
    yourBidsList: "Your Bids",
    pending24h: "Pending (place bid within 24h)",
    backToList: "Back to list",
    backToDashboard: "Back to Dashboard",
    // Payouts (body shop)
    payouts: "Payouts",
    totalEarned: "Total earned",
    wonDeals: "Won deals",
    availablePayout: "Available for payout",
    insurance: "Insurance",
    photos: "photos",
    bidPlaced: "Bid Placed",
    sortBy: "Sort by",
    newest: "Newest",
    highestValue: "Highest Value",
    nearest: "Nearest",
    selectAll: "Select all",
    // Admin
    admin: "Admin",
    adminDashboard: "Dashboard",
    activeBodyShops: "Active body shops",
    customers: "Customers",
    last5Bids: "Last 5 bids",
    request: "Request",
    // Payouts (admin)
    totalPaidToShops: "Paid to body shops",
    platformCommission: "Our commission",
    ourCommission: "Our commission",
    payoutsAdmin: "Payouts",
    shop: "Shop",
    amount: "Amount",
    requestsAndBids: "Requests & body shop bids",
    adminHint: "Click a card or Details to open the request. There you choose which bids to show to the customer and set the winning bid.",
    bids: "bids",
    visibleToCustomer: "visible to customer",
    winning: "Winning",
    backToAdmin: "Back to admin",
    requestDetail: "Request detail",
    bodyShopBids: "Body shop bids",
    bodyShopBidsHint: "Check which bids the customer can see. When the deal is closed, set the winning bid.",
    bidsToShowToCustomer: "Bids to show to customer (approve)",
    shopReceives: "shop receives",
    customerSees: "Customer sees",
    winningBid: "Winning bid",
    winningBidHint: "Winning bid (shop amount) — deal closed",
    placeholderWinning: "e.g. 11600",
    saveWinning: "Save winning",
    vin: "VIN",
    photo: "Photo",
    noBidsYet: "No bids yet.",
    requestNotFound: "Request not found.",
    openBidsToCustomer: "Open selected bids to customer",
    feedbackNote: "Body shops who bid higher will see \"X% above winning\" feedback.",
    additionalNotes: "Additional notes",
    // Settings
    settingsTitle: "Settings",
    languageDesc: "Choose your language.",
    currentLanguage: "Current language: English",
    // Login
    backToHome: "Back to Home",
    welcomeBack: "Welcome Back",
    signInToAccount: "Sign in to your account",
    email: "Email",
    password: "Password",
    signIn: "Sign In",
    rememberMe: "Remember me",
    forgotPassword: "Forgot password",
    register: "Register",
    noAccount: "Don't have an account?",
    signInAsBodyShop: "Sign in as Body Shop",
    adminLogin: "Admin Login",
    adminLoginDesc: "Sign in to manage requests and release bids to customers",
    signInAsAdmin: "Sign In as Admin",
    bodyShopLogin: "Body shop login",
    customerLogin: "Customer login",
    // Request detail (customer)
    insuranceValue: "Insurance value",
    location: "Location",
    date: "Date",
    offers: "Offers",
    best: "Best",
    bestOffer: "Best offer",
    bestPrice: "Best price",
    totalAmount: "Total",
    offerFromBodyShop: "Offer from body shop",
    // Customer payment (no commission mention)
    payThroughPlatform: "Pay with card",
    payThroughPlatformDesc: "Pay securely. The repair shop will be paid after your payment is confirmed.",
    payNow: "Pay now",
    confirmPayment: "Credit card payment",
    confirmPaymentDesc: "Enter your card details below. Your payment is secure.",
    paymentSuccess: "Payment successful. The body shop will contact you.",
    youPay: "Amount to pay",
    cardNumber: "Card number",
    cardExpiry: "Expiry (MM/YY)",
    cardCvc: "CVC",
    nameOnCard: "Name on card",
    securePayment: "Secure payment",
    fillCardDetails: "Please fill in all card details.",
    // Shop request detail
    enterBid: "Enter your bid",
    bidNote: "Your bid is the amount you will receive (before platform fee).",
    placeBidButton: "Place Bid",
    submitBid: "Submit Bid",
    insuranceValueLabel: "Insurance Value",
    yourBidAmount: "Your bid amount ($) – you receive this",
    customerWillSee: "Customer will see",
    noteOptional: "Note (Optional)",
    // Toasts / messages
    bidsNowVisible: "Bid(s) are now visible to the customer. They will get a notification.",
    noBidsVisible: "No bids visible to customer.",
    winningSaved: "Winning bid saved. Body shops will see feedback.",
    bidSubmitted: "Bid submitted.",
  },
  es: {
    // Common
    back: "Volver",
    details: "Detalles",
    logout: "Cerrar sesión",
    settings: "Ajustes",
    save: "Guardar",
    cancel: "Cancelar",
    language: "Idioma",
    english: "Inglés",
    spanish: "Español",
    welcome: "Bienvenido",
    // Customer dashboard
    totalRequests: "Total de solicitudes",
    active: "Activas",
    completed: "Completadas",
    savings: "Ahorros",
    myRequests: "Mis solicitudes",
    newRequest: "Nueva solicitud",
    viewBids: "Ver ofertas",
    activeRequests: "Solicitudes activas",
    requestsWithOffers: "Solicitudes con ofertas (Ahorros)",
    pendingApproval: "Pendiente de aprobación",
    notifications: "Notificaciones",
    markAllAsRead: "Marcar todo como leído",
    noNotifications: "Sin notificaciones",
    // Body shop dashboard
    bodyShopPanel: "Panel de taller",
    activeRequestsCount: "Solicitudes activas",
    bidsPlaced: "Ofertas enviadas",
    pending: "Pendientes",
    placeBid: "Enviar oferta",
    yourBid: "Tu oferta",
    youWon: "Ganaste este trabajo",
    aboveWinning: "por encima del ganador",
    hoursLeft: "restante",
    timeExpired: "Tiempo vencido",
    yourBidsList: "Tus ofertas",
    pending24h: "Pendientes (envía oferta en 24 h)",
    backToList: "Volver al listado",
    backToDashboard: "Volver al panel",
    payouts: "Pagos",
    totalEarned: "Total ganado",
    wonDeals: "Trabajos ganados",
    availablePayout: "Disponible para pago",
    insurance: "Seguro",
    photos: "fotos",
    bidPlaced: "Oferta enviada",
    sortBy: "Ordenar por",
    newest: "Más recientes",
    highestValue: "Mayor valor",
    nearest: "Más cercanos",
    selectAll: "Seleccionar todo",
    // Admin
    admin: "Admin",
    adminDashboard: "Panel",
    activeBodyShops: "Talleres activos",
    customers: "Clientes",
    last5Bids: "Últimas 5 ofertas",
    request: "Solicitud",
    totalPaidToShops: "Pagado a talleres",
    platformCommission: "Nuestra comisión",
    ourCommission: "Nuestra comisión",
    payoutsAdmin: "Pagos",
    shop: "Taller",
    amount: "Importe",
    requestsAndBids: "Solicitudes y ofertas de talleres",
    adminHint: "Haz clic en una tarjeta o en Detalles para abrir la solicitud. Ahí eliges qué ofertas verá el cliente y marcas la ganadora.",
    bids: "ofertas",
    visibleToCustomer: "visibles para el cliente",
    winning: "Ganadora",
    backToAdmin: "Volver al admin",
    requestDetail: "Detalle de solicitud",
    bodyShopBids: "Ofertas de talleres",
    bodyShopBidsHint: "Marca qué ofertas puede ver el cliente. Cuando cierres el trato, indica la oferta ganadora.",
    bidsToShowToCustomer: "Ofertas a mostrar al cliente (aprobar)",
    shopReceives: "recibe el taller",
    customerSees: "El cliente ve",
    winningBid: "Oferta ganadora",
    winningBidHint: "Oferta ganadora (importe para el taller) — trato cerrado",
    placeholderWinning: "ej. 11600",
    saveWinning: "Guardar ganadora",
    vin: "VIN",
    photo: "Foto",
    noBidsYet: "Aún no hay ofertas.",
    requestNotFound: "Solicitud no encontrada.",
    openBidsToCustomer: "Abrir ofertas seleccionadas al cliente",
    feedbackNote: "Los talleres que ofertaron más alto verán \"X% por encima del ganador\".",
    additionalNotes: "Notas adicionales",
    // Settings
    settingsTitle: "Ajustes",
    languageDesc: "Elige tu idioma.",
    currentLanguage: "Idioma actual: Español",
    // Login
    backToHome: "Volver al inicio",
    welcomeBack: "Bienvenido de nuevo",
    signInToAccount: "Inicia sesión en tu cuenta",
    email: "Correo",
    password: "Contraseña",
    signIn: "Entrar",
    rememberMe: "Recordarme",
    forgotPassword: "Olvidé mi contraseña",
    register: "Registrarse",
    noAccount: "¿No tienes cuenta?",
    signInAsBodyShop: "Entrar como taller",
    adminLogin: "Acceso admin",
    adminLoginDesc: "Inicia sesión para gestionar solicitudes y publicar ofertas a clientes",
    signInAsAdmin: "Entrar como admin",
    bodyShopLogin: "Acceso taller",
    customerLogin: "Acceso cliente",
    // Request detail (customer)
    insuranceValue: "Valor del seguro",
    location: "Ubicación",
    date: "Fecha",
    offers: "Ofertas",
    best: "Mejor",
    includesPlatformFee: "Incluye 20% comisión de la plataforma",
    bestOffer: "Mejor oferta",
    bestPrice: "Mejor precio",
    totalAmount: "Total",
    offerFromBodyShop: "Oferta del taller",
    payThroughPlatform: "Pagar con tarjeta",
    payThroughPlatformDesc: "Pago seguro. El taller recibirá el pago tras confirmar.",
    payNow: "Pagar ahora",
    confirmPayment: "Pago con tarjeta",
    confirmPaymentDesc: "Introduce los datos de tu tarjeta. El pago es seguro.",
    paymentSuccess: "Pago realizado. El taller se pondrá en contacto.",
    youPay: "Importe a pagar",
    cardNumber: "Número de tarjeta",
    cardExpiry: "Caducidad (MM/AA)",
    cardCvc: "CVC",
    nameOnCard: "Nombre en la tarjeta",
    securePayment: "Pago seguro",
    fillCardDetails: "Introduce todos los datos de la tarjeta.",
    // Shop request detail
    enterBid: "Ingresa tu oferta",
    bidNote: "Tu oferta es el importe que recibirás (antes de la comisión de la plataforma).",
    placeBidButton: "Enviar oferta",
    submitBid: "Enviar oferta",
    insuranceValueLabel: "Valor del seguro",
    yourBidAmount: "Tu oferta ($) – esto es lo que recibes",
    customerWillSee: "El cliente verá",
    noteOptional: "Nota (opcional)",
    // Toasts / messages
    bidsNowVisible: "Las ofertas ya son visibles para el cliente. Recibirá una notificación.",
    noBidsVisible: "Ninguna oferta visible para el cliente.",
    winningSaved: "Oferta ganadora guardada. Los talleres verán el resultado.",
    bidSubmitted: "Oferta enviada.",
  },
};

const STORAGE_KEY = "collisioncollect-locale";

export function getStoredLocale(): Locale {
  try {
    const s = localStorage.getItem(STORAGE_KEY);
    if (s === "es" || s === "en") return s;
  } catch (_) {}
  return "en";
}

export function setStoredLocale(locale: Locale): void {
  try {
    localStorage.setItem(STORAGE_KEY, locale);
  } catch (_) {}
}

export function t(locale: Locale, key: string): string {
  const map = translations[locale];
  return map[key] ?? translations.en[key] ?? key;
}
